<?xml version='1.0' encoding='UTF-8'?>
<omdoc xml:id="A216253.omdoc" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:omdoc="http://omdoc.org/ns" xmlns="http://omdoc.org/ns">
        <!--This OMDoc file is generated from an OEIS entry, do not edit-->
        <theory name="A216253">
          <assertion class="***** TTTT *****">
      <CMP></CMP>
    </assertion><omtext class="starts-with">
      <CMP> 1,2,5,4,3,7,10,8,6,12,14,23,20,17,9,11,13,16,26,38,43,39,21,24,15,18,</CMP>
    </omtext><assertion class="***** UUUU *****">
      <CMP> 27,31,35,48,63,58,42,30,25,22,19,29,34,57,53,69,76,70,64,49,36,32,28,</CMP>
    </assertion><assertion class="***** IIII *****">
      <CMP> 40,44,59,54,82,88,109,102,95,75,81,52,47,33,37,41,46,62</CMP>
    </assertion><omtext class="name">
      <CMP> A213196 as table read layer by layer - layer clockwise, layer counterclockwise and so on.</CMP>
    </omtext><omtext class="comment">
      <CMP> Permutation of the natural numbers.</CMP>
    </omtext><omtext class="comment">
      <CMP> a(n) is a pairing function: a function that reversibly maps Z^{+} x Z^{+} onto Z^{+}, where Z^{+} is the set of integer positive numbers.</CMP>
    </omtext><omtext class="comment">
      <CMP> Call a &quot;layer&quot; a pair of sides of square from T(1,n) to T(n,n) and from T(n,n) to T(n,1). Table read by boustrophedonic (&quot;ox-plowing&quot;) method.</CMP>
    </omtext><omtext class="comment">
      <CMP> Let m be natural number. The order of the list:</CMP>
    </omtext><omtext class="comment">
      <CMP> T(1,1)=1;</CMP>
    </omtext><omtext class="comment">
      <CMP> T(2,1), T(2,2), T(1,2);</CMP>
    </omtext><omtext class="comment">
      <CMP> . . .</CMP>
    </omtext><omtext class="comment">
      <CMP> T(1,2*m+1), T(2,2*m+1), ... T(2*m,2*m+1), T(2*m+1,2*m+1), T(2*m+1,2*m), ... T(2*m+1,1);</CMP>
    </omtext><omtext class="comment">
      <CMP> T(2*m,1),   T(2*m,2),   ... T(2*m,2*m-1), T(2*m,2*m),     T(2*m-1,2*m), ... T(1,2*m);</CMP>
    </omtext><omtext class="comment">
      <CMP> . . .</CMP>
    </omtext><omtext class="comment">
      <CMP> The first row is layer read clockwise, the second row is layer counterclockwise.</CMP>
    </omtext><omtext class="link">
      <CMP> Boris Putievskiy, &lt;a href=&quot;/A216253/b216253.txt&quot;&gt;Rows n = 1..140 of triangle, flattened&lt;/a&gt;</CMP>
    </omtext><omtext class="link">
      <CMP> Boris Putievskiy, &lt;a href=&quot;http://arxiv.org/abs/1212.2732&quot;&gt;Transformations [of] Integer Sequences And Pairing Functions&lt;/a&gt; arXiv:1212.2732 [math.CO]</CMP>
    </omtext><omtext class="link">
      <CMP> Eric W. Weisstein, &lt;a href=&quot;http://mathworld.wolfram.com/PairingFunction.html&quot;&gt;MathWorld: Pairing functions&lt;/a&gt;</CMP>
    </omtext><omtext class="link">
      <CMP> &lt;a href=&quot;/index/Per#IntegerPermutation&quot;&gt;Index entries for sequences that are permutations of the natural numbers&lt;/a&gt;</CMP>
    </omtext><omdoc:p class="formula">
        <CMP> a(n)=(m1+m2-1)*(m1+m2-2)/2+m1, where m1=(3*i+j-1-(-1)^i+(i+j-2)*(-1)^(i+j))/4, m2=((1+(-1)^i)*((1+(-1)^j)*2*int((j+2)/4)-(-1+(-1)^j)*(2*int((i+4)/4)+2*int(j/2)))-(-1+(-1)^i)*((1+(-1)^j)*(1+2*int(i/4)+2*int(j/2))-(-1+(-1)^j)*(1+2*int(j/4))))/4, i=(t mod 2)*min(t; n-(t-1)^2) + (t+1 mod 2)*min(t; t^2-n+1), j=(t mod 2)*min(t; t^2-n+1) + (t+1 mod 2)*min(t; n-(t-1)^2), t=floor(sqrt(n-1))+1.</CMP>
    </omdoc:p><assertion class="example">
      <CMP> The start of the sequence as table:</CMP>
    </assertion><assertion class="example">
      <CMP> 1....4...3..11..13...</CMP>
    </assertion><assertion class="example">
      <CMP> 2....5...7...9..16...</CMP>
    </assertion><assertion class="example">
      <CMP> 6....8..10..17..26...</CMP>
    </assertion><assertion class="example">
      <CMP> 12..14..23..20..38...</CMP>
    </assertion><assertion class="example">
      <CMP> 15..24..21..39..43...</CMP>
    </assertion><assertion class="example">
      <CMP> . . .</CMP>
    </assertion><assertion class="example">
      <CMP> The start of the sequence as triangular array read by rows:</CMP>
    </assertion><assertion class="example">
      <CMP> 1;</CMP>
    </assertion><assertion class="example">
      <CMP> 2,5,4;</CMP>
    </assertion><assertion class="example">
      <CMP> 3,7,10,8,6;</CMP>
    </assertion><assertion class="example">
      <CMP> 12,14,23,20,17,9,11;</CMP>
    </assertion><assertion class="example">
      <CMP> 13,16,26,38,43,39,21,24,15;</CMP>
    </assertion><assertion class="example">
      <CMP> . . .</CMP>
    </assertion><assertion class="example">
      <CMP> Row number r contains 2*r-1 numbers.</CMP>
    </assertion><omtext class="program">
      <CMP> (Python)</CMP>
    </omtext><omtext class="program">
      <CMP> t=int((math.sqrt(n-1)))+1</CMP>
    </omtext><omtext class="program">
      <CMP> i=(t % 2)*min(t,n-(t-1)**2) + ((t+1) % 2)*min(t,t**2-n+1)</CMP>
    </omtext><omtext class="program">
      <CMP> j=(t % 2)*min(t,t**2-n+1) + ((t+1) % 2)*min(t,n-(t-1)**2)</CMP>
    </omtext><omtext class="program">
      <CMP> m1=(3*i+j-1-(-1)**i+(i+j-2)*(-1)**(i+j))/4</CMP>
    </omtext><omtext class="program">
      <CMP> m2=((1+(-1)**i)*((1+(-1)**j)*2*int((j+2)/4)-(-1+(-1)**j)*(2*int((i+4)/4)+2*int(j/2)))-(-1+(-1)**i)*((1+(-1)**j)*(1+2*int(i/4)+2*int(j/2))-(-1+(-1)**j)*(1+2*int(j/4))))/4</CMP>
    </omtext><omtext class="program">
      <CMP> m=(m1+m2-1)*(m1+m2-2)/2+m1</CMP>
    </omtext><assertion class="crossref">
      <CMP> Cf. A213196, A081344, A211377, A214929.</CMP>
    </assertion><assertion class="keywords">
      <CMP> nonn,tabl</CMP>
    </assertion><assertion class="offset">
      <CMP> 1,2</CMP>
    </assertion><assertion class="author">
      <CMP> _Boris Putievskiy_, Mar 15 2013</CMP>
    </assertion>
        </theory>
      </omdoc>