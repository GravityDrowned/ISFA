<?xml version='1.0' encoding='UTF-8'?>
<omdoc xml:id="A071970.omdoc" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:omdoc="http://omdoc.org/ns" xmlns="http://omdoc.org/ns">
        <!--This OMDoc file is generated from an OEIS entry, do not edit-->
        <theory name="A071970">
          <assertion class="***** TTTT *****">
      <CMP></CMP>
    </assertion><omtext class="starts-with">
      <CMP> 1,2,4,3,18,12,9,8,48,45,50,20,75,72,16,5,200,112,147,288,320,175,98,</CMP>
    </omtext><assertion class="***** UUUU *****">
      <CMP> 28,245,800,192,63,392,80,25,6,180,675,648,176,847,490,300,99,3872,</CMP>
    </assertion><assertion class="***** IIII *****">
      <CMP> 832,845,600,1008,1323,162,108,567,1176,720,325,5408,704,363,90,700,539</CMP>
    </assertion><omtext class="name">
      <CMP> List the positive rationals in the order in which they are produced by the Stern sequence A002487 and apply the Sagher map to turn them into integers.</CMP>
    </omtext><omtext class="comment">
      <CMP> The Sagher map sends Product p_i^e_i / Product q_i^f_i (p_i and q_i being distinct primes) to Product p_i^(2e_i) * Product q_i^(2f_i-1). This is multiplicative.</CMP>
    </omtext><omtext class="reference">
      <CMP> Y. Sagher, Counting the rationals, Amer. Math. Monthly, 96 (1989), p. 823.</CMP>
    </omtext><assertion class="example">
      <CMP> The first few rationals and their images are 1/1 -&gt; 1, 1/2 -&gt; 2, 2/1 -&gt; 4, 1/3 -&gt; 3, 3/2 -&gt; 18, 2/3 -&gt; 12, 3/1 -&gt; 9, 1/4 -&gt; 8, ...</CMP>
    </assertion><omtext class="mathematica">
      <CMP> nmax = 58; s[0] = 0; s[1] = 1; s[n_?EvenQ] := s[n/2]; s[n_] := s[(n-1)/2] + s[(n+1)/2]; v = Table[ FactorInteger /@ {s[n] , s[n+1]}, {n, 1, nmax}]; a[n_] := Times @@ (#[[1]]^(2*#[[2]])&amp;) /@ v[[n, 1]]*Times @@ (#[[1]]^(2*#[[2]]-1)&amp;) /@ v[[n, 2]]; Table[a[n], {n, 1, nmax}] (* _Jean-Fran√ßois Alcover_, Nov 25 2011, after Pari *)</CMP>
    </omtext><omtext class="program">
      <CMP> (PARI) s(n)=if(n&lt;2,n&gt;0,if(n%2,s((n+1)/2)+s((n-1)/2),s(n/2))) /* A002487(n) */</CMP>
    </omtext><omtext class="program">
      <CMP> (PARI) a(n)=local(v); if(n,v=factor(s(n)/s(n+1))~; prod(k=1,length(v),v[1,k]^if(v[2,k]&lt;0,-1-2*v[2,k],2*v[2,k])),0)</CMP>
    </omtext><assertion class="crossref">
      <CMP> Cf. A002487, A060837.</CMP>
    </assertion><assertion class="keywords">
      <CMP> nonn,nice,easy</CMP>
    </assertion><assertion class="offset">
      <CMP> 1,2</CMP>
    </assertion><assertion class="author">
      <CMP> _N. J. A. Sloane_, Jun 19 2002</CMP>
    </assertion><assertion class="extensions">
      <CMP> More terms from _Michael Somos_, Jul 19 2002</CMP>
    </assertion>
        </theory>
      </omdoc>